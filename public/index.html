<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kanbangular</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/dragula.min.css">
</head>

<body ng-app= "app">
  <div class="main">
    <header>
      <h1 id="mainHeading">Kanbangular</h1>
      <div class="loginNav">
        <a href="" class="navButtons animBtn themeA" id="logIn" ng-click=" loginButton=true" ng-hide="initButton; loginButton; registerButton">Log In</a>
        <a href="" class="navButtons animBtn themeA" id="register" ng-click=" registerButton=true" ng-hide="registerButton; loginButton">Register</a>
<!--         <a href="" class="navButtons animBtn themeA" id="logout" ng-click="logout(); showLogout=true" ng-hide="logOutButton">LogOut</a> -->

        <div id="loginForm"
          <form ng-show="loginButton">
            <label for="userName">Username:</label>
            <input type="text" id="userName" ng-model="login.userName">
            <br> m
            <label for="password">Password:</label>
            <input type="password" id="password" ng-model="login.password">
            <br>
            <a href="" class="navButtons animBtn themeA" id="submit" ng-click="login(user)">LogIn</a>
          </form>
        </div>

        <div id="registerForm">
          <form ng-show="registerButton">
            <label for="userName">Username:</label>
            <input type="text" id="userName" ng-model="register.userName">
            <br>
            <label for="password">Password:</label>
            <input type="password" id="password" ng-model="register.password">
            <br>
            <a href="" class="navButtons animBtn themeA" id="submit" ng-click="register(newUser)">Register</a>
          </form>
        </div>
      </div> <!-- Ends LogIn Nav -->
    </header>
    <br>
    <div ng-controller="tasksController">
      <div id="addNew">
        <form ng-show="show">
          <fieldset>
            <div>
              <label for="Title">Task Title:</label>
              <input type="text" id="Title" ng-model="newTask.title">
            </div>
            <div>
              <label for="Description">Description:</label>
              <input type="text" id="Description" ng-model="newTask.description">
            </div>
            <div>
              <label for="dueDate">Due Date:</label>
              <input type="text" id="dueDate" ng-model="newTask.dueDate">
            </div>
            <div>
              <label for="Priority">Priority</label>
              <input type="text" id="Priority" ng-model="newTask.priority">
            </div>
            <div>
              <label for="Status">Status:</label>
              <input type="text" id="Status" ng-model="newTask.status" >
            </div>
            <div>
              <button type="button" ng-click="show=false; addTask(newTask)">Submit</button>
            </div>
          </fieldset>
        </form>
        <a href="" class="navButtons animBtn themeA"  ng-click="show=true" ng-hide="show">Add Task</a>
      </div>

      <div id="board">
        <div>
          <h3 class="boardHeader" id="status1">Not Started</h3>
          <div id="notStarted" dragula="'status-bag'"> <!-- Starts Not Started Section -->
            <div class="CARD" ng-repeat="task in tasks | filter:status='notStarted' | orderBy: 'priority'">
              <div class="INFO" ng-hide="showme" id="sideStatNotStarted" >
                <p>Title: {{ task.title }}</p>
                <p>Description: {{ task.description }}</p>
                <p>Due Date: {{ task.dueDate }}</p>
                <p>Priority: {{ task.priority }}</p>
              </div>

              <div class="changeOperators">
                <button class="editButton" ng-click="showme=true" ng-hide="showme">Edit</button>
                <button class="deleteButton" ng-click="showme=false; deleteTask(task)" ng-hide="showme">Delete</button>
              </div>
              <!-- Hidden Edit Form -->
              <form ng-show="showme">
                <input type="hidden" id="{{ $index }}" ng-model="task.id">
                <label for="title">Title:</label>
                <input type="text" id="title" ng-model="task.title">
                <br>
                <label for="description">Description:</label>
                <input type="text" id="description" ng-model="task.description">
                <br>
                <label for="dueDate">Due Date:</label>
                <input type="text" id="dueDate" ng-model="task.dueDate">
                <br>
                <label for="priority">Priority:</label>
                <input type="text" id="priority" ng-model="task.priority">
                <br>
                <input type="hidden" id="status" ng-model="task.status">
              </form>
              <button class="saveButton" ng-click="showme=false; saveTask(task)" ng-show="showme">Save</button>
            </div> <!-- card -->
          </div> <!-- notstarted -->
        </div>

        <div>
          <h3 class="boardHeader" id="status2">In Progress</h3>
          <div id="inProgress" dragula="'status-bag'"> <!-- Starts Not Started Section -->
            <div class="CARD" ng-repeat="task in tasks | filter:status='inProgress' | orderBy: 'priority'">
              <div class="INFO" id="sideStatProgress" ng-hide="showme">
                <p>Title: {{ task.title }}</p>
                <p>Description: {{ task.description }}</p>
                <p>Due Date: {{ task.dueDate }}</p>
                <p>Priority: {{ task.priority }}</p>
              </div>

              <div class="changeOperators">
                <button class="editButton" ng-click="showme=true" ng-hide="showme">Edit</button>
                <button class="deleteButton" ng-click="showme=false; deleteTask(task)" ng-hide="showme">Delete</button>
              </div>
              <!-- Hidden Edit Form -->
              <form ng-show="showme">
                <input type="hidden" id="{{ $index }}" ng-model="task.id">
                <label for="title">Title:</label>
                <input type="text" id="title" ng-model="task.title">
                <br>
                <label for="description">Description:</label>
                <input type="text" id="description" ng-model="task.description">
                <br>
                <label for="dueDate">Due Date:</label>
                <input type="text" id="dueDate" ng-model="task.dueDate">
                <br>
                <label for="priority">Priority:</label>
                <input type="text" id="priority" ng-model="task.priority">
                <br>
                <input type="hidden" id="status" ng-model="task.status">
              </form>
              <button class="saveButton" ng-click="showme=false; saveTask(task)" ng-show="showme">Save</button>
            </div> <!-- card -->
          </div> <!-- notstarted -->
        </div>

        <div>
        <h3 class="boardHeader" id="status3">Completed</h3>
          <div id="completed" dragula="'status-bag'"> <!-- Starts Not Started Section -->
            <div class="CARD" ng-repeat="task in tasks | filter:status='completed' | orderBy: 'priority'">
              <div class="INFO" ng-hide="showme" id="sideStatCompleted">
                <p>Title: {{ task.title }}</p>
                <p>Description: {{ task.description }}</p>
                <p>Due Date: {{ task.dueDate }}</p>
                <p>Priority: {{ task.priority }}</p>
              </div>

              <div class="changeOperators">
                <button class="editButton" ng-click="showme=true" ng-hide="showme">Edit</button>
                <button class="deleteButton" ng-click="showme=false; deleteTask(task)" ng-hide="showme">Delete</button>
              </div>

              <!-- Hidden Edit Form -->
              <form class="INFO" ng-show="showme">
                <input type="hidden" id="{{ $index }}" ng-model="task.id">
                <label for="title">Title:</label>
                <input type="text" id="title" ng-model="task.title">
                <br>
                <label for="description">Description:</label>
                <input type="text" id="description" ng-model="task.description">
                <br>
                <label for="dueDate">Due Date:</label>
                <input type="text" id="dueDate" ng-model="task.dueDate">
                <br>
                <label for="priority">Priority:</label>
                <input type="text" id="priority" ng-model="task.priority">
                <br>
                <input type="hidden" id="status" ng-model="task.status">
              </form>
              <button class="saveButton" ng-click="showme=false; saveTask(task)" ng-show="showme">Save</button>
            </div> <!-- card -->
          </div> <!-- notstarted -->
        </div>

      </div> <!-- Ends Board -->
    </div> <!-- Ends Controller -->
  </div> <!-- Ends Main -->


  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular-route.min.js"></script>
  <script type="text/javascript" src="/js/dragula.js"></script>
  <script type="text/javascript" src="/js/app.js"></script>
  <script type="text/javascript" src="/js/services.js"></script>
  <script type="text/javascript" src="/js/controllers/tasksController.js"></script>
</body>
</html>